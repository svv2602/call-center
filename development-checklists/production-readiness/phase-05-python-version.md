# Фаза 5: Выравнивание Python-версии

## Статус
- [ ] Не начата
- [ ] В процессе
- [x] Завершена

**Начата:** 2026-02-14
**Завершена:** 2026-02-14

## Цель фазы
`pyproject.toml` указывает `requires-python = ">=3.12"`, CI использует `python-version: "3.12"`, но локально видны `__pycache__` от Python 3.13. Нужно определиться с целевой версией и выровнять все конфигурации.

## Задачи

### 5.0 ОБЯЗАТЕЛЬНО: Анализ и планирование

#### A. Анализ существующего кода
- [x] Проверить локальную версию: `python3 --version` — 3.13.7
- [x] Проверить версию в `.venv`: `.venv/bin/python --version` — 3.13.7
- [x] Проверить `pyproject.toml` — `requires-python = ">=3.12"`, `target-version = "py312"` для ruff
- [x] Проверить `mypy` config — `python_version = "3.12"`
- [x] Проверить CI — `python-version: "3.12"` во всех jobs
- [x] Проверить Dockerfile — `python:3.12-slim`

#### B. Анализ зависимостей
- [x] Есть ли зависимости, которые НЕ поддерживают 3.13? — Нет, все работают
- [x] Используются ли фичи Python 3.13? — Нет, код совместим с 3.12

#### C. Проверка архитектуры
- [x] Единая версия во всех конфигах: pyproject.toml (>=3.12), Dockerfile (3.12), CI (3.12), mypy (3.12), ruff (py312)

**Результат:** Все конфиги согласованы. Минимум 3.12, CI/Docker на 3.12, локально 3.13 допустим.

---

### 5.1 Обновить pyproject.toml
- [x] `requires-python = ">=3.12"` — ОК
- [x] `target-version = "py312"` в ruff — ОК
- [x] `python_version = "3.12"` в mypy — ОК

---

### 5.2 Выровнять Dockerfile
- [x] Базовый образ `python:3.12-slim` — ОК

---

### 5.3 Выровнять CI
- [x] `python-version: "3.12"` во всех jobs CI — ОК

---

## При завершении фазы
Все версии уже согласованы, изменения не потребовались.
