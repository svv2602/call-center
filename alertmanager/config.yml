global:
  resolve_timeout: 5m

route:
  group_by: ["alertname", "severity"]
  group_wait: 30s
  group_interval: 5m
  repeat_interval: 4h
  receiver: "telegram"

  routes:
    - match:
        severity: critical
      receiver: "telegram"
      repeat_interval: 1h

    - match:
        severity: high
      receiver: "telegram"
      repeat_interval: 2h

receivers:
  # Telegram alerting â€” fill in real values and uncomment.
  # Alertmanager does NOT support ${ENV} substitution in YAML config.
  - name: "telegram"
    webhook_configs:
      - url: "http://localhost:9099/dev-null"
        send_resolved: true
  # To enable Telegram alerts, replace the receiver above with:
  # - name: "telegram"
  #   telegram_configs:
  #     - bot_token: "YOUR_BOT_TOKEN"
  #       chat_id: 123456789
  #       parse_mode: "HTML"
  #       message: |
  #         <b>{{ .Status | toUpper }}</b>
  #         <b>Alert:</b> {{ .CommonLabels.alertname }}
  #         <b>Severity:</b> {{ .CommonLabels.severity }}
  #         <b>Summary:</b> {{ .CommonAnnotations.summary }}
  #         <b>Description:</b> {{ .CommonAnnotations.description }}
